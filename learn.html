```html
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>EcoQuest â€“ Learn (Modules with Progress)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{--bg:#0c0d0c;--fg:#eaf7f0;--card:#101311;--border:#1e2b22;--primary:#18eb6a;--muted:#a7eec5}
    *{box-sizing:border-box}html,body{margin:0;padding:0}
    body{background:var(--bg);color:var(--fg);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial}
    .container{max-width:1000px;margin:0 auto;padding:24px}
    header{position:sticky;top:0;background:#0c0d0cee;backdrop-filter:blur(8px);border-bottom:1px solid var(--border)}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;font-size:20px;color:#c7f7da;text-decoration:none}
    .logo{display:inline-flex;width:36px;height:36px;align-items:center;justify-content:center;border-radius:8px;background:rgba(24,235,106,.12);color:var(--primary)}
    .nav{display:flex;gap:14px;align-items:center} .nav a{color:#cfeee0;text-decoration:none;opacity:.75}.nav a:hover{opacity:1}
    .section{padding:24px 0}
    .h1{font-size:32px;font-weight:800;color:#c7f7da;margin:8px 0 6px}
    .lead{color:#e6fff3;margin:0}
    .row{display:grid;gap:16px}
    .grid-3{grid-template-columns:repeat(3,minmax(0,1fr))}
    @media (max-width:900px){.grid-3{grid-template-columns:1fr}}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:20px;box-shadow:0 4px 20px rgba(0,0,0,.15)}
    .badge{display:inline-flex;align-items:center;gap:8px;background:rgba(24,235,106,.15);color:var(--primary);padding:6px 10px;border-radius:999px;font-size:12px}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;height:42px;padding:0 14px;border-radius:10px;border:1px solid var(--border);background:#fff;color:#101311;cursor:pointer}
    .btn.primary{background:#2bde94;color:#271b1b;border-color:#26c985}
    .small{font-size:12px;color:var(--muted)}
    .progress{height:8px;border:1px solid var(--border);border-radius:999px;background:#0f120f;overflow:hidden}
    .progress-fill{height:100%;background:linear-gradient(90deg,#12d06f,#18eb6a);width:0%}
    .item{border:1px solid var(--border);background:#0f120f;color:#eaf7f0;border-radius:10px;padding:10px}
  </style>
</head>
<body>
  <header>
    <div class="container" style="display:flex;justify-content:space-between;align-items:center;gap:16px">
      <a class="brand" href="index.html"><span class="logo">ðŸŒ¿</span>EcoQuest</a>
      <nav class="nav">
        <a href="index.html">Home</a>
        <a href="learn.html">Learn</a>
        <a href="play.html">Play</a>
        <a href="impact.html">Impact</a>
        <a href="dashboard.html">Dashboard</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="section"><div class="container">
      <span class="badge">ðŸ“˜ Learn</span>
      <h1 class="h1">Standardsâ€‘aligned learning</h1>
      <p class="lead">Readyâ€‘toâ€‘teach, biteâ€‘sized lessons crafted with educators. Pair with quizzes to reinforce outcomes.</p>

      <div id="modules-grid" class="row grid-3" style="margin-top:16px"></div>

      <div id="module-detail" class="card" style="margin-top:16px;display:none">
        <div class="small" id="module-kicker"></div>
        <h2 id="module-title" style="margin:6px 0 8px"></h2>
        <p id="module-desc" class="small"></p>

        <div style="margin:12px 0">
          <div class="progress"><div class="progress-fill" id="module-progress"></div></div>
          <div class="small" style="margin-top:6px"><span id="module-count">0/0</span> lessons completed</div>
        </div>

        <div id="lessons-list" class="row" style="margin-top:8px"></div>

        <div style="margin-top:14px;display:flex;gap:8px;flex-wrap:wrap">
          <button class="btn primary" id="mark-all">Mark all complete</button>
          <button class="btn" id="back-grid">Back to modules</button>
        </div>
      </div>
    </div></section>
  </main>

  <footer class="section"><div class="container small">Â© EcoQuest</div></footer>

  <script>
    (function(){
      const MODULES = [
        {
          id:'climate101',
          title:'Climate 101',
          desc:'Causes, impacts, and solutions for climate change.',
          lessons: [
            { title:'Intro to climate', content:'Climate is the average of weather over long periods. We study temperature, precipitation, and patterns.' },
            { title:'Greenhouse effect', content:'Gases like COâ‚‚ trap heat, keeping Earth warm, but excess emissions intensify warming.' },
            { title:'Impacts & risks', content:'Sea level rise, extreme weather, biodiversity loss, and health risks affect communities.' },
            { title:'Solutions & policy', content:'Mitigation (cut emissions) and adaptation (prepare) with policies like carbon pricing.' },
            { title:'Quiz: Climate basics', content:'Test your knowledge with a short multipleâ€‘choice quiz.' },
          ]
        },
        {
          id:'zerowaste',
          title:'Zeroâ€‘Waste Basics',
          desc:'Reduce, reuse, recycleâ€”habits that stick.',
          lessons: [
            { title:'Waste audit', content:'Track what you throw away for a week to identify reduction opportunities.' },
            { title:'Reduce & reuse', content:'Avoid singleâ€‘use items, buy durable goods, and repair instead of replacing.' },
            { title:'Recycling rules', content:'Rinse containers; separate paper, plastics, metals, and glass; follow local rules.' },
            { title:'Compost 101', content:'Food scraps and yard waste become nutrientâ€‘rich soil when composted properly.' },
            { title:'Quiz: Zeroâ€‘waste', content:'A quick quiz to reinforce zeroâ€‘waste habits.' },
          ]
        },
        {
          id:'energy',
          title:'Energy Savers',
          desc:'Smart energy use at school and home.',
          lessons: [
            { title:'Where energy goes', content:'Lighting, HVAC, devices, and plug loads make up most school energy use.' },
            { title:'Lighting & devices', content:'Switch to LEDs, enable power management, and turn off when not in use.' },
            { title:'Heating & cooling', content:'Optimize thermostats, seal drafts, and maintain equipment for efficiency.' },
            { title:'Behavioral nudges', content:'â€œLast out, lights outâ€ signage and student energy monitors build habits.' },
            { title:'Quiz: Energy', content:'A short quiz to check understanding of energy-saving strategies.' },
          ]
        },
      ];

      const LS_KEY = 'eco_learn_progress_v1';
      const $grid   = document.getElementById('modules-grid');
      const $detail = document.getElementById('module-detail');
      const $kicker = document.getElementById('module-kicker');
      const $title  = document.getElementById('module-title');
      const $desc   = document.getElementById('module-desc');
      const $fill   = document.getElementById('module-progress');
      const $count  = document.getElementById('module-count');
      const $lessons= document.getElementById('lessons-list');
      const $markAll= document.getElementById('mark-all');
      const $back   = document.getElementById('back-grid');

      function load(){ try { return JSON.parse(localStorage.getItem(LS_KEY)||'{}'); } catch { return {}; } }
      function save(){ localStorage.setItem(LS_KEY, JSON.stringify(progress)); }
      let progress = load();

      function modulePct(mod){
        const done = (progress[mod.id]||[]).length;
        const total = mod.lessons.length;
        return Math.round((done/total)*100);
      }

      function renderGrid(){
        $grid.innerHTML = '';
        MODULES.forEach(mod => {
          const pct = modulePct(mod);
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `
            <div style="font-weight:600">${mod.title}</div>
            <p class="small">${mod.desc}</p>
            <div style="margin-top:8px" class="progress"><div class="progress-fill" style="width:${pct}%"></div></div>
            <div class="small" style="margin-top:6px">${pct}% complete</div>
            <div style="margin-top:8px"><button class="btn primary">Open module</button></div>
          `;
          card.querySelector('button').addEventListener('click',()=>openModule(mod.id));
          $grid.appendChild(card);
        });
      }

      function openModule(id){
        const mod = MODULES.find(m=>m.id===id); if(!mod) return;
        $grid.style.display = 'none';
        $detail.style.display = 'block';
        $kicker.textContent = 'Module';
        $title.textContent = mod.title;
        $desc.textContent  = mod.desc;
        renderDetail(mod);

        $markAll.onclick = () => {
          progress[mod.id] = mod.lessons.map((_,i)=>i);
          save();
          renderDetail(mod);
          renderGrid();
        };
        $back.onclick = () => {
          $detail.style.display = 'none';
          $grid.style.display = '';
          renderGrid();
        };
      }

      function renderDetail(mod){
        const doneSet = new Set(progress[mod.id]||[]);
        $lessons.innerHTML = '';
        mod.lessons.forEach((l, idx)=>{
          const row = document.createElement('div');
          row.className = 'item';
          row.style.display = 'grid';
          row.style.gridTemplateColumns = 'auto 1fr';
          row.style.alignItems = 'start';
          row.style.gap = '10px';
          row.innerHTML = `
            <input type="checkbox" ${doneSet.has(idx)?'checked':''} style="margin-top:4px" />
            <div>
              <div style="font-weight:600">${l.title}</div>
              <div class="small" style="margin-top:4px">${l.content}</div>
            </div>
          `;
          const cb = row.querySelector('input');
          cb.addEventListener('change', ()=>{
            const set = new Set(progress[mod.id]||[]);
            if (cb.checked) set.add(idx); else set.delete(idx);
            progress[mod.id] = [...set];
            save();
            updateProgress(mod);
          });
          $lessons.appendChild(row);
        });
        updateProgress(mod);
      }

      function updateProgress(mod){
        const pct = modulePct(mod);
        $fill.style.width = pct + '%';
        const done = (progress[mod.id]||[]).length;
        $count.textContent = `${done}/${mod.lessons.length}`;
      }

      renderGrid();
    })();
  </script>
</body>
</html>